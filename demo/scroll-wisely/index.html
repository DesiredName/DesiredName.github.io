<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Preload block -->
        <link
            rel="preload"
            href="/assets/demo-commons.css"
            as="style"
        />
        <link
            rel="preload"
            href="/components/return-button/index.mjs"
            as="script"
            crossorigin
        />

        <title>Scroll Wisely</title>

        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0"
        />
        <link
            rel="stylesheet"
            href="/assets/demo-commons.css"
        />
        <link
            rel="manifest"
            href="/site.webmanifest"
            crossorigin="use-credentials"
        />
        <link
            rel="stylesheet"
            href="./assets/style.css"
        />
        <script
            type="module"
            src="/components/return-button/index.mjs"
        ></script>

        <!-- Security -->
        <meta
            http-equiv="Content-Security-Policy"
            content="default-src 'self' 'unsafe-eval' 'unsafe-inline';"
        />

        <!-- SEO -->
        <link
            rel="canonical"
            href="https://desiredname.github.io/"
        />
        <meta
            name="theme-color"
            content="#222222"
        />
        <meta
            name="description"
            content="An example of scroll-snap and scroll-padding use on page"
        />
        <meta
            name="robots"
            content="index, nofollow"
        />
        <meta
            name="author"
            content="Krasnov Anton"
        />
        <meta
            name="creator"
            content="Krasnov Anton"
        />
        <meta
            property="og:locale"
            content="en_US"
        />
        <meta
            property="og:title"
            content="Scroll Wisely"
        />
        <meta
            name="og:description"
            content="An example of scroll-snap and scroll-padding use on page"
        />
        <meta
            property="og:image"
            content="https://desiredname.github.io/title.png"
        />
        <meta
            property="og:type"
            content="website"
        />
        <meta
            property="og:url"
            content="https://www.linkedin.com/in/anton-krasnov-in-prague/"
        />
    </head>

    <body>
        <div class="return-button-container">
            <return-button></return-button>
        </div>

        <article class="container">
            <h3 class="title">Scroll Wisely</h3>

            <div class="content">
                <div class="section">
                    <div>Important things to remember :</div>
                    <br />
                    <ol class="ordered-list">
                        <li>
                            Set the
                            <code class="code">scroll-snap-align</code> prop on
                            parent
                        </li>
                        <li>
                            Set the
                            <code class="code">scroll-snap-type</code> prop on
                            parent
                        </li>
                        <li>
                            Set the
                            <code class="code">scroll-snap-align</code> prop on
                            child
                        </li>
                        <li>
                            The child element MUST have an explicitly defined
                            sizes (width, height)
                        </li>
                    </ol>
                </div>
                <div class="section">
                    <div class="the-viewport with-snap">
                        <div class="the-row">
                            <div class="the-block"></div>
                            <div class="the-block"></div>
                            <div class="the-block"></div>
                        </div>
                        <div class="the-row">
                            <div class="the-block"></div>
                            <div class="the-block"></div>
                            <div class="the-block"></div>
                        </div>
                        <div class="the-row">
                            <div class="the-block"></div>
                            <div class="the-block"></div>
                            <div class="the-block"></div>
                        </div>
                    </div>
                </div>

                <form class="form section">
                    <div class="form-row">
                        <div class="form-control">
                            <label
                                for="toggle-snap"
                                class="control-label"
                                aria-label="toggle the scroll snap"
                            >
                                Toggle the snap:
                                <input
                                    id="toggle-snap"
                                    type="checkbox"
                                    class="control-input input checkbox-input"
                                    checked
                                    onchange="handle_toggle_snap(event)"
                                />
                            </label>
                        </div>
                    </div>
                    <div class="form-row-caption">Snap type:</div>
                    <div class="form-row">
                        <div class="form-control">
                            <label
                                for="toggle-snap-x-only"
                                class="control-label"
                                aria-label="toggle the scroll snap to X axis only"
                            >
                                X - only:
                                <input
                                    id="toggle-snap-x-only"
                                    name="toggle_type"
                                    type="radio"
                                    class="control-input input radiobutton-input"
                                    onchange="handle_change_snap_type(SNAP_TYPE.X)"
                                />
                            </label>
                            <label
                                for="toggle-snap-y-only"
                                class="control-label"
                                aria-label="toggle the scroll snap to Y axis only"
                            >
                                Y - only:
                                <input
                                    id="toggle-snap-y-only"
                                    name="toggle_type"
                                    type="radio"
                                    class="control-input input radiobutton-input"
                                    onchange="handle_change_snap_type(SNAP_TYPE.Y)"
                                />
                            </label>
                            <label
                                for="toggle-snap-both"
                                class="control-label"
                                aria-label="toggle the scroll snap on both axis"
                            >
                                Both:
                                <input
                                    id="toggle-snap-both"
                                    name="toggle_type"
                                    type="radio"
                                    checked
                                    class="control-input input radiobutton-input"
                                    onchange="handle_change_snap_type(SNAP_TYPE.BOTH)"
                                />
                            </label>
                        </div>
                    </div>
                    <div class="form-row-caption">Block alignment:</div>
                    <div class="form-row">
                        <div class="form-control">
                            <label
                                for="toggle-align-start"
                                class="control-label"
                                aria-label="toggle the scroll align to the start of the block"
                            >
                                The start:
                                <input
                                    id="toggle-align-start"
                                    name="toggle_align"
                                    type="radio"
                                    class="control-input input radiobutton-input"
                                    checked
                                    onchange="handle_change_align_type(ALIGN_TYPE.START)"
                                />
                            </label>
                            <label
                                for="toggle-align-end"
                                class="control-label"
                                aria-label="toggle the scroll align to the rnf of the block"
                            >
                                The end:
                                <input
                                    id="toggle-align-end"
                                    name="toggle_align"
                                    type="radio"
                                    class="control-input input radiobutton-input"
                                    onchange="handle_change_align_type(ALIGN_TYPE.END)"
                                />
                            </label>
                        </div>
                    </div>
                </form>
            </div>
        </article>

        <details
            class="footer"
            aria-label="page footer with additional information"
        >
            <summary class="footer-summary">documentation</summary>
            <div class="footer-content">
                <a
                    href="https://developer.mozilla.org/en-US/docs/Web/CSS/scroll-snap-align"
                    class="link"
                    target="_blank"
                    aria-label="link to scroll-snap-align on MDN"
                    referrerpolicy="no-referrer"
                    >MDN: scroll-snap-align CSS property</a
                >
                <br />
                <a
                    href="https://developer.mozilla.org/en-US/docs/Web/CSS/scroll-snap-type"
                    class="link"
                    target="_blank"
                    aria-label="link to scroll-snap-type on MDN"
                    referrerpolicy="no-referrer"
                    >MDN: scroll-snap-type CSS property</a
                >
                <br />
                <a
                    href="https://developer.mozilla.org/en-US/docs/Web/CSS/scroll-padding"
                    class="link"
                    target="_blank"
                    aria-label="link to scroll-padding on MDN"
                    referrerpolicy="no-referrer"
                    >MDN: scroll-padding CSS property</a
                >
                <br />
                <a
                    href="https://developer.mozilla.org/en-US/docs/Web/CSS/scroll-margin"
                    class="link"
                    target="_blank"
                    aria-label="link to scroll-margin on MDN"
                    referrerpolicy="no-referrer"
                    >MDN: scroll-margin CSS property</a
                >
            </div>
        </details>

        <script>
            class SNAP_TYPE {
                static BOTH = 'both mandatory';
                static X = 'x mandatory';
                static Y = 'y mandatory';
            }

            class ALIGN_TYPE {
                static START = 'start';
                static END = 'end';
            }

            const el_viewport = document.querySelector('.the-viewport');
            const el_radios = document.querySelectorAll('input[type=radio]');
            const el_blocks = document.querySelectorAll('.the-block');

            function handle_toggle_snap(e) {
                const checked = e.target.checked === true;
                const method = checked ? 'removeAttribute' : 'setAttribute';

                el_radios.forEach((el) => {
                    el[method]('disabled', 'disabled');
                });
                el_viewport.classList.toggle('with-snap');
            }

            function handle_change_snap_type(type) {
                el_viewport.style.scrollSnapType = type;
            }

            function handle_change_align_type(type) {
                el_blocks.forEach((el) => {
                    el.style.scrollSnapAlign = type;
                });
            }
        </script>
    </body>
</html>
